### βοΈ λ°λ³µμ ν¨ν„΄μ΄λ€?

κ°μ²΄ λ‚΄λ¶€μ **μ €μ¥ λ°©μ‹(κµ¬ν„ λ°©λ²•)μ„ λ…Έμ¶ν•μ§€ μ•μΌλ©΄μ„**, ν΄λΌμ΄μ–ΈνΈκ°€ **μ§‘ν•©μ²΄ λ‚΄λ¶€ λ¨λ“  κ°μ²΄μ— μ ‘κ·Ό**ν•  μ μκ² ν•΄μ£Όλ” ν¨ν„΄μ„ μλ―Έν•λ‹¤.

μλ¥Ό λ“¤μ–΄ μ•„λμ™€ κ°™μ€ κ²½μ°λ” κ°μ²΄ λ‚΄λ¶€μ κµ¬ν„ λ°©λ²•μ΄ λ…Έμ¶λλ” μƒν™©μ΄λ‹¤. μ΄λ ‡κ² λλ©΄ λ‚΄λ¶€ κµ¬ν„ λ°©λ²•μ΄ λ¨λ‘ λ‹¬λΌ μ‚¬μ©ν•λ” μ»¬λ ‰μ…μ΄ λ‹¬λΌμ§€κ³ , ν΄λΌμ΄μ–ΈνΈλ” λ‚΄λ¶€ μ”μ†μ μ†μ„±μ— λ§μ¶° λ°λ³µν•λ” μ½”λ“λ¥Ό μ‘μ„±ν•΄μ¤μ•Ό ν•λ‹¤.


```java
List<String> list = dinerMenu.getList();
for (int i = 0; i < list.size(); i++) {
	System.out.println(list.get(i));
}

String[] list = launchMenu.getArray();
for (int i = 0; i < list.size(); i++) {
	System.out.println(list[i]);
}
```

#### π«§ λ‚΄λ¶€ κµ¬ν„μ„ μ™Έλ¶€λ΅ λ…Έμ¶ν–μ„ λ• λ‹¨μ 

1. μƒμ„Έ κµ¬μ΅°κ°€ ν΄λΌμ΄μ–ΈνΈκΉμ§€ μ™Έλ¶€λ΅ λ…Έμ¶λλ‹¤. λ”°λΌμ„, ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬μƒ ν΄λμ¤μ— μ§μ ‘μ μΌλ΅ μ—°κ²°λμ–΄ μλ‹¤.

2. μ ‘κ·Ό μμ„λ” μ‚¬μ©λ μ»¬λ ‰μ…μ νΉμ„± λ° κµ¬ν„μ— μ—°κ΄€λμ–΄ μλ‹¤.

> κ°μ²΄μ— μ ‘κ·Όν•΄μ„ κ°€μ Έμ¤λ” λ¶€λ¶„μ„ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ¶”μƒν™” μ‹μΌ λ¶„λ¦¬ν•λ‹¤λ©΄?

λ°”λ€λ” λ¶€λ¶„μ„ `Iterator` λΌλ” **μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μΊ΅μν™”**ν•λ‹¤. `Iterator` λ¥Ό μ§€μ›ν•λ” λ¨λ“  μ»¬λ ‰μ…μ—μ„ μ‚¬μ©ν•  μ μλ” λ©”μ„λ“λ¥Ό λ§λ“¤ μ μκΈ° λ•λ¬Έμ—, **λ‹¤ν•μ μΈ μ½”λ“**λ¥Ό μƒμ„±ν•  μ μμ–΄ μ μ—°ν•λ‹¤.

```java
interface Iterator<E> () {	
	public boolean hasNext();
    public E next();
    public void remove();
}
```

μ–΄λ–¤ μ»¬λ ‰μ…μ΄ μ¤λμ§€, λ™μΌν• μ‘μ—…μΌλ΅ λ‚΄λ¶€ μ”μ†λ¥Ό μνν•  μ μμ–΄μ§„λ‹¤. 
```java
public void test() {
  Iterator<String> dinner = dinerMenu.createIterator();
  Iterator<String> launch = launchMenu.createIterator();
  iterate(dinner);
  iterate(launch);
}

private void iterate(Iterator iter) {
	while (iter.hasNext()) {
      String s = (String)iter.next();
      System.out.println(s);
  }
}
 ```


λ”λ¶μ–΄ μ΄λ¬ν• λ°λ³µμλ” μλ°”μ μ»¬λ ‰μ… ν΄λμ¤μ—μ„ **κ°™μ€ λ°©λ²•μ„ ν†µν•΄ κ° μ”μ†μ— λ€ν• μ‘μ—…**μ„ ν•  μ μλ„λ΅ ν•λ‹¤. μ¦‰, μ»¬λ ‰μ… ν΄λμ¤λ¥Ό κµμ²΄ν•΄λ„ λ°λ³µμ μ½”λ“λ” μμ •μ•ν•κ³  μ‚¬μ©ν•  μ μμ–΄ **λ‹¨μΌ μ±…μ„ μ›μΉ™(SRP)**μ΄ λ¶„λ…ν•κ² μ§€μΌμ§„λ‹¤.


<img src="https://user-images.githubusercontent.com/71436576/136918270-81fb12c0-f0a4-46ea-8c81-871693665523.png" width=90% height=90%>

 + `iterator()` :  λ°λ³µμμ— λ€ν• μ°Έμ΅°(Iterator μλ£ν•)λ¥Ό λ°ν™
 + `hasNext()` :  μ”μ†κ°€ λ” μ΅΄μ¬ν•λ”μ§€ ν™•μΈ. true λλ” false λ°ν™
 + `next()` : λ‹¤μ μ”μ† κ°€μ Έμ¤κΈ°. Objectλ¥Ό λ°ν™ν•λ―€λ΅ λ³€ν™ν•΄μ„ μ‚¬μ©

#### λ°λ³µμ ν¨ν„΄ μ¥μ 

1. λ³€ν•λ” λ¶€λ¶„μΈ μƒμ„Έ λ‚΄μ©μ΄ μΊ΅μν™”λμ–΄ μμΌλ―€λ΅, ν΄λΌμ΄μ–ΈνΈλ” κ³µν†µν™”λ μΈν„°νμ΄μ¤λ§ μ•λ©΄ λλ‹¤. 

2. λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ…Έμ¶ν•μ§€ μ•μ•„λ„ μ»¬λ ‰μ…μ— λ“¤μ–΄μλ” λ¨λ“  κ°μ²΄μ— μ ‘κ·Όν•  μ μλ‹¤.(λ°λ³µ μ‘μ—…μ„ μΊ΅μν™”)

3. μ§‘ν•©μ²΄μ—μ„ λ‚΄λ¶€ μ»¬λ ‰μ… κΈ°λ¥κ³Ό λ°λ³µμμ© λ©”μ†λ“ κ΄€λ ¨ κΈ°λ¥μ„ λ¶„λ¦¬ν•μ—¬ ν•λ‚μ μ±…μ„λ§ κ°€μ§ μ μλ„λ΅ ν•λ‹¤. ν•λ‚λ΅ λ¬¶μ—¬μλ‹¤λ©΄ ν΄λμ¤ λΏλ§ μ•„λ‹λΌ λ°λ³µμ κ΄€λ ¨ κΈ°λ¥μ΄ μμ •λμ–΄λ„ ν΄λμ¤κΉμ§€ λ³€κ²½μ΄ μ „νλμ–΄ μΆ‹μ§€ μ•λ‹¤.


### βοΈ Iterator μμ‹ μ½”λ“


```java
public class IntDynamicArray implements Iterable {   
    final int INCREMENT_SIZE = 10;    //μ¦κ°€μ‹ν‚¤λ ¤λ” μ‚¬μ΄μ¦(dynamic array)
    int count;                     
    int size;                   
    private int[] arr;

    public IntDynamicArray() {
        arr = new int[INCREMENT_SIZE];
        size = INCREMENT_SIZE;        
        count = 0;
    }

    public void add(int n) {
        if (count >= size) {      
            int[] arr2 = new int[size + INCREMENT_SIZE];
            for (int i = 0; i < size; i++) {
                arr2[i] = arr[i];
            }
            size += INCREMENT_SIZE;
            arr = arr2;
        }
        arr[count] = n;
        count++;
    }

    public int get(int idx) throws ArrayIndexOutOfBoundsException {
        if (idx < size) {
            return arr[idx];
        }
        else {
            throw new ArrayIndexOutOfBoundsException();
        }
    }

    public int size() {
        return count;
    }

    public Iterator iterator() {            //Iterator λ°ν™
        return new IntDynamicArrayIterator(this);
    }
}



```
κ°μ²΄λ” `arr` μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ°ν™ν•λ” κ²ƒμ΄ μ•„λ‹, `iterator` λ¥Ό μƒμ„±ν•΄μ„ λ°ν™ν•¨μΌλ΅μ¨ λ‚΄λ¶€κ°€ μ–΄λ–»κ² κµ¬ν„λμ–΄ μλ”μ§€ λ¨λ¥΄λ„λ΅ ν•λ‹¤.	

#### Iterator
```java
public class IntDynamicArrayIterator implements Iterator {    //Iterator κµ¬ν„
    IntDynamicArray arr;
    int count;

    public IntDynamicArrayIterator(IntDynamicArray arr) {
        this.arr = arr;
        count = 0;
    }

    @Override
    public boolean hasNext() {
        return count < arr.size();
    }

    @Override
    public Object next() {
        Integer n = arr.get(count);
        count++;
        return n;
    }
}
```


```java
public class Main {
    public static void main(String[] args) {
        IntDynamicArray arr = new IntDynamicArray();

        for (int i = 0; i < 15; i++) {
            arr.add(i);
        }

        for (Iterator itr = arr.iterator(); itr.hasNext(); ) {
            System.out.println(itr.next());
        }

        for (Object n : arr) {  // for-each κµ¬λ¬Έ μ‚¬μ©
            System.out.println((Integer) n);
        }
    }

}
```

### βοΈ Composite pattern

μ»΄ν¬μ§€νΈ ν¨ν„΄μ€, **κ°μ²΄λ¥Ό νΈλ¦¬μ™€ κ°™μ€ κ³„μΈµ κµ¬μ΅°λ΅ κµ¬μ„±**ν•  μ μλ„λ΅ ν•λ‹¤. μλ¥Ό λ“¤μ–΄ λ©”λ‰΄, μ„λΈλ©”λ‰΄, μ„λΈμ μ„λΈλ©”λ‰΄κΉμ§€ λ¨λ‘ κ°™μ€ κ°μ²΄λ΅ μΈμ‹λκ³  μ²λ¦¬λ  μ μλ‹¤. 

μ „μ²΄λ¥Ό λ€μƒμΌλ΅ μ‘μ—…μ„ μν–‰ν•  μλ„ μκ³ , λ¶€λ¶„μ„ λ€μƒμΌλ΅ μ‘μ—…μ„ μν–‰ν•  μλ„ μλ‹¤. 


![](https://velog.velcdn.com/images/semi-cloud/post/ff1c2ed9-b209-48f5-b83a-92f243795546/image.png)

λ‹¨μΌ κ°μ²΄μΈ `Leaf`, λ³µν•© κ°μ²΄μΈ `Composite` κ°€ μμ„ λ• λ‘λ‹¤ ν•λ‚μ `Componet` λ¥Ό κµ¬ν„ν•¨μΌλ΅μ¨ **λ™μΌν• κ°μ²΄λ΅ κ°„μ£Όλμ–΄ λ‘κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬**λ  μ μλ„λ΅ ν•λ‹¤. 


```java
public Class Leaf extends Component {
	...
}
```

```java
public Class Composite extends Component {
	List<Component> components = new ArrayList<>();   // μμ‹ μ”μ† μ €μ¥
 
 	public void add(Component component) {
    	components.add(leaf);
    }
    
    public void remove(Component component) {
    	components.remove(leaf);
    }
    
    public Leaf getChild(int i) {
    	components.get(i)
    }
    
   	public void print() {
    	for (Component componet: components) { // μ¬κ·€
        	component.print();
        }
    }
}
```

> κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬λ  μ μλ„λ΅ ν–μ„ λ• μ¥μ μ€?

λ£¨νΈ λ©”μ„λ“ ν•λ‚λ§ νΈμ¶ν•λ©΄, μ¬κ·€ ν•νƒλ΅ μ „μ²΄ κµ¬μ΅°λ¥Ό λ°λ³µν•λ” μ‘μ—…μ„ μν–‰ν•  μ μμΌλ―€λ΅ κ²°κ³Όμ μΌλ΅ **ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬ λ°©μ‹μ΄ κµ‰μ¥μ΄ λ‹¨μν™”**λλ‹¤. 

```java
public void Client() {
	Componet component;
    
    public Client(Component component) {
    	this.component = component;
    }
    
    public void print() {
    	component.print(); // νΈλ¦¬ μ „μ²΄μ κ³„μΈµ κµ¬μ΅°λ¥Ό μ¶λ ¥ν•κ³  μ‹¶μΌλ©΄ μµμƒμ„ λ…Έλ“μ print λ§ νΈμ¶ν•΄λ„ μ¬κ·€μ μΌλ΅ μν–‰λ
    }
}
```
```java

Component composite1 = new Composite();
Component composite2 = new Composite();
Component component = new Composite();  // λ³µν•© κ°μ²΄κ°€ λ ..

composite1.add(new Leaf());  // λ³µν•© κ°μ²΄μ— κ°λ³„ κ°μ²΄ μ¶”κ°€
composite2.add(new Leaf());

component.add(composite1);           // λ£¨νΈ κ°μ²΄μ— λ³µν•© κ°μ²΄ μ¶”κ°€
component.add(composite2);


Client client = new Client(component);
client.print();   // λ©”μ„λ“ ν•λ²μ— λ¨λ“  κ°μ²΄ μ •λ³΄κ°€ μ¶λ ¥λ
```

λ¬Όλ΅  κ³„μΈµ κµ¬μ΅° κ΄€λ¦¬ μ—­ν• κ³Ό `Composite` λ³Έμ—°μ μ—­ν•  λ‘ κ°€μ§€κ°€ μμ–΄ λ‹¨μΌ μ±…μ„ μ›μΉ™μ— μ„λ°°λλ‹¤λ” μ‹κ°λ„ μμ§€λ§, λ€μ‹  ν¬λ…μ„±μ μ¥μ μ„ ν™•λ³΄ν•  μ μλ‹¤.

ν¬λ…μ„±μ΄λ€, ν΄λΌμ΄μ–ΈνΈκ°€ μ–΄λ–¤ μ›μ†κ°€ λ³µν•©μ΄κ³  μ–΄λ–¤ μ›μ†κ°€ κ°λ³„ κ°μ²΄μΈμ§€ μ •ν™•ν•κ² λ³΄μ΄κ² ν•¨μΌλ΅μ¨ λ³µν•© κ°μ²΄μ™€ μμ„ λ‘κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬ν•  μ μμ–΄μ§€λ” κ²ƒμ„ μλ―Έν•λ‹¤.

> λ””μμΈ ν¨ν„΄μ€ μ •λ‹µμ΄ μ—†κ³ , μƒν™©μ— λ”°λΌ μ›μΉ™μ„ μ μ ν•κ² μ‚¬μ©ν•  μ μλ‹¤.
