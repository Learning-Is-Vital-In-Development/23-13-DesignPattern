# 12장 복합 패턴

## 복합 패턴의 개요

* 복합 패턴은 여러 패턴을 함께 사용해서 다양한 디자인 문제를 해결하는 방법입니다.
* 패턴 몇 개를 결합해도 무조건 복합 패턴이 되는 것이 아닙니다. 복합 패턴이라고 불리려면 여러 가지 문제의 일반적인 해결법을 제시해야 합니다.
* 복합 패턴의 예로 모델-뷰-컨트롤러 패턴이 있습니다. 이 패턴은 MVC 패턴이라고도 불립니다.

## 모델-뷰-컨트롤러

* 모델-뷰-컨트롤러는 다음과 같은 특징을 가지고있습니다.
  * 사용자는 뷰에만 접촉할 수 있습니다.
  * 컨트롤러가 모델에게 상태를 변경하라고 요청합니다.
  * 컨트롤러가 뷰를 변경해 달라고 요청할 수 있습니다.
  * 상태가 변경되면 모델이 뷰에게 그 사실을 알립니다.
  * 뷰가 모델에게 상태를 요청합니다.

### 모델-뷰-컨트롤러 패턴 구성 요소

* 모델(Model)
  * 모든 데이터, 상태와 애플리케이션 로직이 들어있습니다.
  * 뷰와 컨트롤러에서 모델의 상태를 조작하거나 가져올 때 필요한 인터페이스를 제공합니다.
  * 모델이 자신의 상태 변화를 옵저버들에게 연락할 수 있지만 기본적으로 뷰와 컨트롤러에 대해 관심 없습니다.
* 뷰(View)
  * 뷰는 사용자 인터페이스를 나타내며 데이터를 시각적으로 표시합니다.
  * 모델을 표현하는 방법을 제공합니다.
  * 사용자 입력을 컨트롤러에 제공합니다.
  * 데이터의 시각적 표현을 담당하며 사용자와 상호 작용하는 컴포넌트입니다.
* 컨트롤러(Controller)
  * 컨트롤러는 사용자 입력을 처리하고 모델과 뷰 간의 통신을 조정합니다.
  * 사용자 명령을 받아 모델의 데이터를 업데이트하거나 뷰를 업데이트하는 작업을 수행합니다.
  * 모델과 뷰를 분리하여 느슨한 결합을 유지하고, 응용 프로그램의 논리 흐름을 제어합니다.

### 모델-뷰-컨트롤러의 디자인 패턴

* 모델(Model)
  * 옵저버 패턴(Observer Pattern) : 모델은 옵저버 패턴을 사용해서 상태가 변경되었을 때, 그 모델과 연관된 객체들에게 연락합니다. 이를 통해 모델을 뷰와 컨트롤러부터 독립시킬 수 있습니다.
* 뷰(View)
  * 컴포지트 패턴(Composite Pattern) : 컨트롤러가 뷰에게 화면을 갱신해 달라고 요청하면 최상위 뷰 구성 요소에게만 갱신하라고 얘기하면 됩니다. 나머지는 컴포지트 패턴이 알아서 처리해줍니다.
* 컨트롤러(Controller)
  * 전략 패턴(Strategy Pattern) : 뷰와 컨트롤러는 고전적인 전략패턴으로 구현되어 있습니다. 뷰 객체를 여러 전략을 사용하여 설정할 수 있습니다. 컨트롤러가 전략을 제공합니다. 전략패턴을 사용하면 뷰를 모델로부터 분리하는 데에도 도움이 됩니다.